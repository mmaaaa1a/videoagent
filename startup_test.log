ğŸš€ å¯åŠ¨VideoRAGæœ¬åœ°å¼€å‘ç¯å¢ƒ...
ğŸ”§ åº”ç”¨å…¼å®¹æ€§ä¿®å¤...
/data/é¡¹ç›®/videoagent/venv/lib/python3.12/site-packages/imagebind/data.py:10: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
âœ… Applied torchvision compatibility fix
â„¹ï¸  ImageBind sample_rate issue not found or already fixed
âœ… PyTorchVideo import successful
âœ… ImageBind import successful
âœ… CTranslate2 import successful
âœ… VideoRAG import successful
ğŸ“¡ å¯åŠ¨Pythonåç«¯API (ç«¯å£: 64451)...
ğŸ” ç«¯å£64451ç©ºé—²ï¼Œå¯åŠ¨åç«¯æœåŠ¡...
ğŸ“ å¼€å§‹ç›‘æ§åç«¯æ—¥å¿—: /data/é¡¹ç›®/videoagent/backend/log.txt
ğŸ“ æ—¥å¿—ç›‘æ§å·²å¯åŠ¨ (PID: 44316)
â³ ç­‰å¾…åç«¯æœåŠ¡å¯åŠ¨...
[2025-10-06 22:25:31] ğŸ“ Main process PID: 2893175
[2025-10-06 22:25:31] âŒ Failed to start web server: [Errno 28] No space left on device
[2025-10-06 22:25:31] ğŸ”” VideoRAG API server is shutting down...
[2025-10-06 22:25:31] âœ… Cleanup completed
[2025-10-06 22:25:55] âœ… åŒæ­¥é…ç½® asr_model -> ASR_MODEL = paraformer-v2
[2025-10-06 22:25:55] âœ… é…ç½®åŒæ­¥åˆ°ç¯å¢ƒå˜é‡å®Œæˆ
[2025-10-06 22:25:55] ğŸ”„ é…ç½®æ— å˜åŒ–ï¼Œè·³è¿‡åŒæ­¥
[2025-10-06 22:26:32] ğŸ” Session status: {'status': 'error', 'message': "Video indexing failed: Can't pickle local object 'index_video_worker_process.<locals>.progress_callback'", 'current_step': 'Error', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759760170.8022149, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.02 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '17%', 'memory': '43%'}}
[2025-10-06 22:27:30] ğŸ” Session status: {'status': 'error', 'message': "Video indexing failed: Can't pickle local object 'index_video_worker_process.<locals>.progress_callback'", 'current_step': 'Error', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759760170.8022149, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.02 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '17%', 'memory': '43%'}}
[2025-10-07 09:19:20] ğŸ”” Received signal 15, initiating shutdown...
[2025-10-07 16:22:59] ğŸš€ Starting VideoRAG Web API on port 64451
[2025-10-07 16:22:59] ğŸ“ Main process PID: 44311
[LOG] ğŸš€ Starting VideoRAG Web API on port 64451
[LOG] ğŸ“ Main process PID: 44311
 * Serving Flask app 'videorag_web_api'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:64451
 * Running on http://192.168.1.40:64451
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [07/Oct/2025 16:23:00] "GET /api/health HTTP/1.1" 200 -
âœ… åç«¯æœåŠ¡å¯åŠ¨æˆåŠŸ (PID: 44311)
ğŸŒ å¯åŠ¨Reactå‰ç«¯å¼€å‘æœåŠ¡å™¨ (ç«¯å£: 3000)...

> videorag-web@1.0.0 dev
> vite --host 0.0.0.0 --port 3000

16:23:00 [vite] (client) Re-optimizing dependencies because vite config has changed
error when starting dev server:
Error: EACCES: permission denied, unlink '/data/é¡¹ç›®/videoagent/web/node_modules/.vite/deps/@radix-ui_react-slot.js'
INFO:werkzeug:127.0.0.1 - - [07/Oct/2025 16:23:09] "[31m[1mPOST /api/config HTTP/1.1[0m" 405 -
ğŸ” æ£€æŸ¥æœåŠ¡çŠ¶æ€...
INFO:werkzeug:127.0.0.1 - - [07/Oct/2025 16:23:10] "GET /api/health HTTP/1.1" 200 -
âœ… åç«¯APIæœåŠ¡: http://localhost:64451
âŒ å‰ç«¯å¼€å‘æœåŠ¡æœªå°±ç»ª

ğŸ‰ VideoRAGå¼€å‘ç¯å¢ƒå¯åŠ¨å®Œæˆ!
ğŸ“– å‰ç«¯åœ°å€: http://localhost:3000 (React + Vite)
ğŸ”— åç«¯åœ°å€: http://localhost:64451 (Flask API)

ğŸ’¡ å¼€å‘æç¤º:
   - ä¿®æ”¹Pythonä»£ç åç›´æ¥é‡å¯ï¼Œæ— éœ€é‡æ–°æ„å»º
   - å‰ç«¯æ”¯æŒçƒ­é‡è½½ï¼Œä¿®æ”¹ç«‹å³ç”Ÿæ•ˆ
   - æŸ¥çœ‹åç«¯æ—¥å¿—: tail -f backend/log.txt
   - åœæ­¢æœåŠ¡: kill 44311 44990 44316
   - é‡å¯æœåŠ¡: python3 reload_services.py

æŒ‰ Ctrl+C é€€å‡º...
INFO:werkzeug:127.0.0.1 - - [07/Oct/2025 16:23:22] "[31m[1mPUT /api/config HTTP/1.1[0m" 405 -
[2025-10-07 16:23:34] âœ… åŒæ­¥é…ç½® asr_model -> ASR_MODEL = paraformer-v2
[2025-10-07 16:23:34] âœ… é…ç½®åŒæ­¥åˆ°ç¯å¢ƒå˜é‡å®Œæˆ
[2025-10-07 16:23:34] ğŸ”„ Global config set: {'openai_api_key': 'test-key', 'asr_model': 'paraformer-v2'}
INFO:werkzeug:127.0.0.1 - - [07/Oct/2025 16:23:34] "POST /api/config/update HTTP/1.1" 200 -
[2025-10-07 16:23:48] ğŸ”„ é…ç½®æ— å˜åŒ–ï¼Œè·³è¿‡åŒæ­¥
[2025-10-07 16:23:48] ğŸ”„ Updated global config: {'openai_api_key': 'test-key', 'asr_model': 'paraformer-v2'}
INFO:werkzeug:127.0.0.1 - - [07/Oct/2025 16:23:48] "POST /api/config/update HTTP/1.1" 200 -
[2025-10-07 16:24:24] ğŸ”” Received signal 15, initiating shutdown...
[2025-10-07 16:24:24] ğŸ”” VideoRAG API server is shutting down...
[2025-10-07 16:24:24] ğŸ§¹ Starting process cleanup...
[2025-10-07 16:24:27] ğŸ§¹ Process manager cleanup completed
[2025-10-07 16:24:27] âœ… Cleanup completed
[LOG] âœ… åŒæ­¥é…ç½® asr_model -> ASR_MODEL = paraformer-v2
[LOG] âœ… é…ç½®åŒæ­¥åˆ°ç¯å¢ƒå˜é‡å®Œæˆ
[LOG] ğŸ”„ Global config set: {'openai_api_key': 'test-key', 'asr_model': 'paraformer-v2'}
[LOG] ğŸ”„ é…ç½®æ— å˜åŒ–ï¼Œè·³è¿‡åŒæ­¥
[LOG] ğŸ”„ Updated global config: {'openai_api_key': 'test-key', 'asr_model': 'paraformer-v2'}
[LOG] ğŸ”” Received signal 15, initiating shutdown...
[LOG] ğŸ”” VideoRAG API server is shutting down...
[LOG] ğŸ§¹ Starting process cleanup...
[LOG] ğŸ§¹ Process manager cleanup completed
[LOG] âœ… Cleanup completed
[2025-10-07 16:25:36] ğŸš€ Starting VideoRAG Web API on port 64451
[2025-10-07 16:25:36] ğŸ“ Main process PID: 59374
[2025-10-07 16:25:50] âœ… åŒæ­¥é…ç½® asr_model -> ASR_MODEL = paraformer-v2
[2025-10-07 16:25:50] âœ… é…ç½®åŒæ­¥åˆ°ç¯å¢ƒå˜é‡å®Œæˆ
[2025-10-07 16:25:50] ğŸ”„ Global config set: {'openai_api_key': 'test-key', 'asr_model': 'paraformer-v2'}
[2025-10-07 16:26:08] ğŸ”„ é…ç½®æ— å˜åŒ–ï¼Œè·³è¿‡åŒæ­¥
[2025-10-07 16:26:08] ğŸ”„ Updated global config: {'openai_api_key': 'test-key', 'asr_model': 'paraformer-v2'}
[2025-10-07 16:26:21] ğŸ”” Received signal 15, initiating shutdown...
[2025-10-07 16:26:21] ğŸ”” VideoRAG API server is shutting down...
[2025-10-07 16:26:21] ğŸ§¹ Starting process cleanup...
[2025-10-07 16:26:23] ğŸ§¹ Process manager cleanup completed
[2025-10-07 16:26:23] âœ… Cleanup completed
[2025-10-07 16:27:41] ğŸš€ Starting VideoRAG Web API on port 64451
[2025-10-07 16:27:41] ğŸ“ Main process PID: 70802
[2025-10-07 16:27:56] ğŸ”” Received signal 15, initiating shutdown...
[2025-10-07 16:27:56] ğŸ”” VideoRAG API server is shutting down...
[2025-10-07 16:27:56] âœ… Cleanup completed
[2025-10-07 16:34:44] ğŸš€ Starting VideoRAG Web API on port 64451
[2025-10-07 16:34:44] ğŸ“ Main process PID: 105200
[2025-10-07 16:34:55] ğŸ”„ Returning default configuration from environment variables
[2025-10-07 16:34:57] âœ… åŒæ­¥é…ç½® image_bind_model_path -> IMAGEBIND_MODEL_PATH = /data/é¡¹ç›®/videoagent/models
[2025-10-07 16:34:57] âœ… åŒæ­¥é…ç½® asr_model -> ASR_MODEL = paraformer-v2
[2025-10-07 16:34:57] âœ… é…ç½®åŒæ­¥åˆ°ç¯å¢ƒå˜é‡å®Œæˆ
[2025-10-07 16:34:57] ğŸ”„ Global config set: {'openai_api_key': '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', 'openai_base_url': 'https://openrouter.ai/api/v1/', 'ali_dashscope_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'ali_dashscope_base_url': 'https://dashscope.aliyuncs.com/compatible-mode/v1', 'analysisModel': 'x-ai/grok-code-fast-1', 'processingModel': 'x-ai/grok-code-fast-1', 'caption_model': 'qwen-vl-plus', 'asr_model': 'paraformer-v2', 'image_bind_model_path': '/data/é¡¹ç›®/videoagent/models', 'base_storage_path': '/data/é¡¹ç›®/videoagent/storage'}
[2025-10-07 16:34:57] âœ… ImageBind manager configured with model path: /data/é¡¹ç›®/videoagent/models
[2025-10-07 16:35:02] ğŸ” Scanning video files in: /data/é¡¹ç›®/videoagent/storage
[2025-10-07 16:35:04] ğŸ“¹ Starting video processing from web upload: 1 files
[2025-10-07 16:35:06] ğŸ” Session status: {'status': 'processing', 'message': 'Initializing AI Assistant...', 'current_step': 'Initializing', 'total_videos': 1, 'processed_videos': 0}
[2025-10-07 16:35:08] ğŸ” Session status: {'status': 'processing', 'message': 'Initializing AI Assistant...', 'current_step': 'Initializing', 'total_videos': 1, 'processed_videos': 0}
[2025-10-07 16:35:09] ğŸ”§ Index worker process 107502 set name to: videorag-index-8iwi2fetmg40v54o2q31zfl
[2025-10-07 16:35:09] ğŸ” Session status: {'status': 'processing', 'message': 'Initializing AI Assistant...', 'current_step': 'Initializing'}
[2025-10-07 16:35:09] ğŸ¤ ASRé…ç½®: æ¨¡å¼=local, æ¨¡å‹=paraformer-v2
[2025-10-07 16:35:09] ğŸ”— åµŒå…¥é…ç½®: URL=https://dashscope.aliyuncs.com/compatible-mode/v1, æ¨¡å‹=text-embedding-v4, ç»´åº¦=1024
[2025-10-07 16:35:09] ğŸ” Session status: {'status': 'processing', 'message': 'Processing video: 1759707563218-0-0-30', 'current_step': 'Starting Video', 'timestamp': 1759826109.1732287}
[2025-10-07 16:35:09] ğŸ“Š Progress: Starting Video - Processing video: 1759707563218-0-0-30
[2025-10-07 16:35:09] ğŸ” Session status: {'status': 'processing', 'message': 'Splitting video: 1759707563218-0-0-30 into segments', 'current_step': 'Splitting Video', 'timestamp': 1759826109.173756}
[2025-10-07 16:35:09] ğŸ“Š Progress: Splitting Video - Splitting video: 1759707563218-0-0-30 into segments
[2025-10-07 16:35:10] ğŸ” Session status: {'status': 'processing', 'message': 'Video 1759707563218-0-0-30 split into 1 segments', 'current_step': 'Video Split', 'timestamp': 1759826110.4267864}
[2025-10-07 16:35:10] ğŸ“Š Progress: Video Split - Video 1759707563218-0-0-30 split into 1 segments
[2025-10-07 16:35:10] ğŸ” Session status: {'status': 'processing', 'message': 'Transcribing audio for video: 1759707563218-0-0-30', 'current_step': 'Transcribing Audio', 'timestamp': 1759826110.4273221}
[2025-10-07 16:35:10] ğŸ“Š Progress: Transcribing Audio - Transcribing audio for video: 1759707563218-0-0-30
[2025-10-07 16:35:11] ğŸ” Session status: {'status': 'processing', 'message': 'Transcribing audio for video: 1759707563218-0-0-30', 'current_step': 'Transcribing Audio', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826110.4273221}
[2025-10-07 16:35:13] ğŸ” Session status: {'status': 'processing', 'message': 'Transcribing audio for video: 1759707563218-0-0-30', 'current_step': 'Transcribing Audio', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826110.4273221}
[2025-10-07 16:35:15] ğŸ” Session status: {'status': 'processing', 'message': 'Transcribing audio for video: 1759707563218-0-0-30', 'current_step': 'Transcribing Audio', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826110.4273221}
[2025-10-07 16:35:17] ğŸ” Session status: {'status': 'processing', 'message': 'Transcribing audio for video: 1759707563218-0-0-30', 'current_step': 'Transcribing Audio', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826110.4273221}
[2025-10-07 16:35:19] ğŸ” Session status: {'status': 'processing', 'message': 'Transcribing audio for video: 1759707563218-0-0-30', 'current_step': 'Transcribing Audio', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826110.4273221}
[2025-10-07 16:36:06] ğŸ” Session status: {'status': 'processing', 'message': 'ASRå¤„ç†ä¸­: 1/1 (é€Ÿåº¦: 0.02/ç§’)', 'current_step': 'Transcribing Audio', 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.02 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '20%'}, 'timestamp': 1759826166.4551413}
[2025-10-07 16:36:06] ğŸ“Š Progress: Transcribing Audio - ASRå¤„ç†ä¸­: 1/1 (é€Ÿåº¦: 0.02/ç§’)
[2025-10-07 16:36:06] ğŸ” Session status: {'status': 'processing', 'message': 'Audio transcription completed for video: 1759707563218-0-0-30', 'current_step': 'Audio Transcribed', 'timestamp': 1759826166.4584098}
[2025-10-07 16:36:06] ğŸ“Š Progress: Audio Transcribed - Audio transcription completed for video: 1759707563218-0-0-30
[2025-10-07 16:36:06] ğŸ” Session status: {'status': 'processing', 'message': 'Processing video segments for: 1759707563218-0-0-30', 'current_step': 'Processing Segments', 'timestamp': 1759826166.4587953}
[2025-10-07 16:36:06] ğŸ“Š Progress: Processing Segments - Processing video segments for: 1759707563218-0-0-30
[2025-10-07 16:36:11] ğŸ” Session status: {'status': 'error', 'message': "Video indexing failed: Can't pickle local object 'create_safe_progress_callback.<locals>.safe_callback'", 'current_step': 'Error'}
[2025-10-07 16:36:11] âŒ Process-based video indexing failed: Can't pickle local object 'create_safe_progress_callback.<locals>.safe_callback'
[2025-10-07 16:42:58] ğŸ”” Received signal 15, initiating shutdown...
[2025-10-07 16:42:58] ğŸ”” VideoRAG API server is shutting down...
[2025-10-07 16:42:58] ğŸ§¹ Starting process cleanup...
[2025-10-07 16:43:00] ğŸ§¹ Process manager cleanup completed
[2025-10-07 16:43:00] âš ï¸ ImageBind not loaded, nothing to release
[2025-10-07 16:43:00] ğŸ§¹ ImageBind manager cleaned up
[2025-10-07 16:43:00] âœ… Cleanup completed
[2025-10-07 16:43:12] ğŸš€ Starting VideoRAG Web API on port 64451
[2025-10-07 16:43:12] ğŸ“ Main process PID: 154166
tail: /data/é¡¹ç›®/videoagent/backend/log.txt: æ–‡ä»¶å·²æˆªæ–­
[2025-10-07 16:43:55] ğŸ”„ Returning default configuration from environment variables
[2025-10-07 16:43:56] âœ… åŒæ­¥é…ç½® image_bind_model_path -> IMAGEBIND_MODEL_PATH = /data/é¡¹ç›®/videoagent/models
[2025-10-07 16:43:56] âœ… åŒæ­¥é…ç½® asr_model -> ASR_MODEL = paraformer-v2
[2025-10-07 16:43:56] âœ… é…ç½®åŒæ­¥åˆ°ç¯å¢ƒå˜é‡å®Œæˆ
[2025-10-07 16:43:56] ğŸ”„ Global config set: {'openai_api_key': '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', 'openai_base_url': 'https://openrouter.ai/api/v1/', 'ali_dashscope_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'ali_dashscope_base_url': 'https://dashscope.aliyuncs.com/compatible-mode/v1', 'analysisModel': 'x-ai/grok-code-fast-1', 'processingModel': 'x-ai/grok-code-fast-1', 'caption_model': 'qwen-vl-plus', 'asr_model': 'paraformer-v2', 'image_bind_model_path': '/data/é¡¹ç›®/videoagent/models', 'base_storage_path': '/data/é¡¹ç›®/videoagent/storage'}
[2025-10-07 16:43:56] âœ… ImageBind manager configured with model path: /data/é¡¹ç›®/videoagent/models
[2025-10-07 16:43:58] ğŸ” Scanning video files in: /data/é¡¹ç›®/videoagent/storage
[2025-10-07 16:44:00] ğŸ“¹ Starting video processing from web upload: 1 files
[2025-10-07 16:44:03] ğŸ” Session status: {'status': 'processing', 'message': 'Initializing AI Assistant...', 'current_step': 'Initializing', 'total_videos': 1, 'processed_videos': 0}
[2025-10-07 16:44:05] ğŸ” Session status: {'status': 'processing', 'message': 'Initializing AI Assistant...', 'current_step': 'Initializing', 'total_videos': 1, 'processed_videos': 0}
[2025-10-07 16:44:05] ğŸ”§ Index worker process 158654 set name to: videorag-index-8o7fsfrzglhzrt6c1u2isl
[2025-10-07 16:44:05] ğŸ” Session status: {'status': 'processing', 'message': 'Initializing AI Assistant...', 'current_step': 'Initializing'}
[2025-10-07 16:44:05] ğŸ¤ ASRé…ç½®: æ¨¡å¼=local, æ¨¡å‹=paraformer-v2
[2025-10-07 16:44:05] ğŸ”— åµŒå…¥é…ç½®: URL=https://dashscope.aliyuncs.com/compatible-mode/v1, æ¨¡å‹=text-embedding-v4, ç»´åº¦=1024
[2025-10-07 16:44:05] ğŸ” Session status: {'status': 'processing', 'message': 'Processing video: 1759707563218-0-0-30', 'current_step': 'Starting Video', 'timestamp': 1759826645.4276907}
[2025-10-07 16:44:05] ğŸ“Š Progress: Starting Video - Processing video: 1759707563218-0-0-30
[2025-10-07 16:44:05] ğŸ” Session status: {'status': 'processing', 'message': 'Splitting video: 1759707563218-0-0-30 into segments', 'current_step': 'Splitting Video', 'timestamp': 1759826645.428358}
[2025-10-07 16:44:05] ğŸ“Š Progress: Splitting Video - Splitting video: 1759707563218-0-0-30 into segments
[2025-10-07 16:44:06] ğŸ” Session status: {'status': 'processing', 'message': 'Video 1759707563218-0-0-30 split into 1 segments', 'current_step': 'Video Split', 'timestamp': 1759826646.6323283}
[2025-10-07 16:44:06] ğŸ“Š Progress: Video Split - Video 1759707563218-0-0-30 split into 1 segments
[2025-10-07 16:44:06] ğŸ” Session status: {'status': 'processing', 'message': 'Transcribing audio for video: 1759707563218-0-0-30', 'current_step': 'Transcribing Audio', 'timestamp': 1759826646.632795}
[2025-10-07 16:44:06] ğŸ“Š Progress: Transcribing Audio - Transcribing audio for video: 1759707563218-0-0-30
[2025-10-07 16:44:07] ğŸ” Session status: {'status': 'processing', 'message': 'Transcribing audio for video: 1759707563218-0-0-30', 'current_step': 'Transcribing Audio', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826646.632795}
[2025-10-07 16:44:09] ğŸ” Session status: {'status': 'processing', 'message': 'Transcribing audio for video: 1759707563218-0-0-30', 'current_step': 'Transcribing Audio', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826646.632795}
[2025-10-07 16:44:11] ğŸ” Session status: {'status': 'processing', 'message': 'Transcribing audio for video: 1759707563218-0-0-30', 'current_step': 'Transcribing Audio', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826646.632795}
[2025-10-07 16:44:13] ğŸ” Session status: {'status': 'processing', 'message': 'Transcribing audio for video: 1759707563218-0-0-30', 'current_step': 'Transcribing Audio', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826646.632795}
[2025-10-07 16:44:15] ğŸ” Session status: {'status': 'processing', 'message': 'Transcribing audio for video: 1759707563218-0-0-30', 'current_step': 'Transcribing Audio', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826646.632795}
[2025-10-07 16:44:42] ğŸ” Session status: {'status': 'processing', 'message': 'ASRå¤„ç†ä¸­: 1/1 (é€Ÿåº¦: 0.03/ç§’)', 'current_step': 'Transcribing Audio', 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}, 'timestamp': 1759826682.9696906}
[2025-10-07 16:44:42] ğŸ“Š Progress: Transcribing Audio - ASRå¤„ç†ä¸­: 1/1 (é€Ÿåº¦: 0.03/ç§’)
[2025-10-07 16:44:42] ğŸ” Session status: {'status': 'processing', 'message': 'Audio transcription completed for video: 1759707563218-0-0-30', 'current_step': 'Audio Transcribed', 'timestamp': 1759826682.9727504}
[2025-10-07 16:44:42] ğŸ“Š Progress: Audio Transcribed - Audio transcription completed for video: 1759707563218-0-0-30
[2025-10-07 16:44:42] ğŸ” Session status: {'status': 'processing', 'message': 'Processing video segments for: 1759707563218-0-0-30', 'current_step': 'Processing Segments', 'timestamp': 1759826682.9733348}
[2025-10-07 16:44:42] ğŸ“Š Progress: Processing Segments - Processing video segments for: 1759707563218-0-0-30
[2025-10-07 16:44:58] ğŸ” Session status: {'status': 'processing', 'message': 'å¼€å§‹ç”Ÿæˆå­—å¹•: 1759707563218-0-0-30 (1 ä¸ªç‰‡æ®µ)', 'current_step': 'Generating Captions', 'timestamp': 1759826698.5366468}
[2025-10-07 16:44:58] ğŸ“Š Progress: Generating Captions - å¼€å§‹ç”Ÿæˆå­—å¹•: 1759707563218-0-0-30 (1 ä¸ªç‰‡æ®µ)
[2025-10-07 16:47:06] ğŸ” Session status: {'status': 'processing', 'message': 'å­—å¹•ç”Ÿæˆå®Œæˆ: 1/1 æˆåŠŸ, è€—æ—¶ 134.89s (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)', 'current_step': 'Captions Generated', 'timestamp': 1759826826.8230376}
[2025-10-07 16:47:06] ğŸ“Š Progress: Captions Generated - å­—å¹•ç”Ÿæˆå®Œæˆ: 1/1 æˆåŠŸ, è€—æ—¶ 134.89s (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)
[2025-10-07 16:47:08] ğŸ” Session status: {'status': 'processing', 'message': 'Video segments processed and captions generated for: 1759707563218-0-0-30', 'current_step': 'Segments Processed', 'timestamp': 1759826828.6291606}
[2025-10-07 16:47:08] ğŸ“Š Progress: Segments Processed - Video segments processed and captions generated for: 1759707563218-0-0-30
[2025-10-07 16:47:09] ğŸ” Session status: {'status': 'processing', 'message': 'Encoding video features for: 1759707563218-0-0-30', 'current_step': 'Encoding Features', 'timestamp': 1759826829.5585313}
[2025-10-07 16:47:09] ğŸ“Š Progress: Encoding Features - Encoding video features for: 1759707563218-0-0-30
[2025-10-07 16:47:51] ğŸ” Session status: {'status': 'processing', 'message': 'Video features encoded for: 1759707563218-0-0-30', 'current_step': 'Features Encoded', 'timestamp': 1759826871.839118}
[2025-10-07 16:47:51] ğŸ“Š Progress: Features Encoded - Video features encoded for: 1759707563218-0-0-30
[2025-10-07 16:47:51] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'timestamp': 1759826871.8445323}
[2025-10-07 16:47:51] ğŸ“Š Progress: One Video Completed - Video processing completed: 1759707563218-0-0-30
[2025-10-07 16:47:51] âœ… Video completed: 1759707563218-0-0-30.mp4
[2025-10-07 16:48:06] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:48:08] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:48:10] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:48:11] ğŸ” Scanning video files in: /data/é¡¹ç›®/videoagent/storage
[2025-10-07 16:48:12] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:48:14] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:48:16] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:48:18] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:48:20] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:48:22] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:48:24] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:48:26] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:49:07] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:49:09] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:49:11] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:49:13] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:49:14] ğŸ” Query data: {'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘'}
[2025-10-07 16:49:14] ğŸš€ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘
[2025-10-07 16:49:14] ğŸ” Query status: {'status': 'processing', 'message': 'Starting query processing...', 'current_step': 'Initializing', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': None, 'started_at': 1759826954.9344852}
[2025-10-07 16:49:15] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:49:17] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:49:18] ğŸ” Query status: {'status': 'processing', 'message': 'Starting query processing...', 'current_step': 'Initializing', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': None, 'started_at': 1759826954.9344852}
[2025-10-07 16:49:19] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:49:19] ğŸ”§ Query worker process 183270 set name to: videorag-query-8o7fsfrzglhzrt6c1u2isl
[2025-10-07 16:49:19] ğŸ”„ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘
[2025-10-07 16:49:19] ğŸ¤ Query ASRé…ç½®: æ¨¡å¼=local, æ¨¡å‹=paraformer-v2
[2025-10-07 16:49:19] ğŸ” Query status: {'status': 'error', 'message': "Query processing failed: 'VideoRAG' object has no attribute 'caption_model'", 'current_step': 'Error', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘'}
[2025-10-07 16:49:19] âŒ Query processing failed: 'VideoRAG' object has no attribute 'caption_model'
[2025-10-07 16:49:20] ğŸ” Session status: {'status': 'error', 'message': "Video indexing failed: 'global_config'", 'current_step': 'Error'}
[2025-10-07 16:49:20] âŒ Process-based video indexing failed: 'global_config'
[2025-10-07 16:49:20] ğŸ” Query status: {'status': 'error', 'message': "Query processing failed: 'VideoRAG' object has no attribute 'caption_model'", 'current_step': 'Error', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': None, 'started_at': 1759826954.9344852}
[2025-10-07 16:49:21] ğŸ” Session status: {'status': 'error', 'message': "Video indexing failed: 'global_config'", 'current_step': 'Error', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 16:49:57] ğŸ”„ Returning default configuration from environment variables
[2025-10-07 16:54:12] ğŸ”„ é…ç½®æ— å˜åŒ–ï¼Œè·³è¿‡åŒæ­¥
[2025-10-07 16:54:12] ğŸ”„ Updated global config: {'openai_api_key': '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', 'openai_base_url': 'https://openrouter.ai/api/v1/', 'ali_dashscope_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'ali_dashscope_base_url': 'https://dashscope.aliyuncs.com/compatible-mode/v1', 'analysisModel': 'x-ai/grok-code-fast-1', 'processingModel': 'x-ai/grok-code-fast-1', 'caption_model': 'qwen-vl-plus', 'asr_model': 'paraformer-v2', 'image_bind_model_path': '/data/é¡¹ç›®/videoagent/models', 'base_storage_path': '/data/é¡¹ç›®/videoagent/storage'}
[2025-10-07 16:54:12] âœ… ImageBind manager configured with model path: /data/é¡¹ç›®/videoagent/models
[2025-10-07 17:04:41] ğŸ” Query data: {'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘'}
[2025-10-07 17:04:41] ğŸš€ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘
[2025-10-07 17:04:41] ğŸ” Query status: {'status': 'processing', 'message': 'Starting query processing...', 'current_step': 'Initializing', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': None, 'started_at': 1759827881.9106002}
[2025-10-07 17:04:46] ğŸ”§ Query worker process 285169 set name to: videorag-query-8o7fsfrzglhzrt6c1u2isl
[2025-10-07 17:04:46] ğŸ”„ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘
[2025-10-07 17:04:46] ğŸ¤ Query ASRé…ç½®: æ¨¡å¼=local, æ¨¡å‹=paraformer-v2
[2025-10-07 17:04:46] ğŸ” Query status: {'status': 'error', 'message': 'Query processing failed: Embedding dim mismatch, expected: 1536, but loaded: 1024', 'current_step': 'Error', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘'}
[2025-10-07 17:04:46] âŒ Query processing failed: Embedding dim mismatch, expected: 1536, but loaded: 1024
[2025-10-07 17:05:02] ğŸ” Session status: {'status': 'error', 'message': "Video indexing failed: 'global_config'", 'current_step': 'Error', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 17:06:27] ğŸ”„ é…ç½®æ— å˜åŒ–ï¼Œè·³è¿‡åŒæ­¥
[2025-10-07 17:06:27] ğŸ”„ Global config set: {'openai_api_key': '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', 'openai_base_url': 'https://openrouter.ai/api/v1/', 'ali_dashscope_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'ali_dashscope_base_url': 'https://dashscope.aliyuncs.com/compatible-mode/v1', 'base_storage_path': '/data/é¡¹ç›®/videoagent/storage'}
[2025-10-07 17:06:43] ğŸ” Query data: {'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘'}
[2025-10-07 17:06:43] ğŸš€ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘
[2025-10-07 17:06:43] ğŸ” Query status: {'status': 'processing', 'message': 'Starting query processing...', 'current_step': 'Initializing', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': None, 'started_at': 1759828003.8119893}
[2025-10-07 17:06:48] ğŸ”§ Query worker process 297472 set name to: videorag-query-8o7fsfrzglhzrt6c1u2isl
[2025-10-07 17:06:48] ğŸ”„ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘
[2025-10-07 17:06:48] ğŸ¤ Query ASRé…ç½®: æ¨¡å¼=local, æ¨¡å‹=paraformer-v2
[2025-10-07 17:06:48] ğŸ” Query status: {'status': 'error', 'message': 'Query processing failed: Embedding dim mismatch, expected: 1536, but loaded: 1024', 'current_step': 'Error', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘'}
[2025-10-07 17:06:48] âŒ Query processing failed: Embedding dim mismatch, expected: 1536, but loaded: 1024
[2025-10-07 17:07:06] ğŸ” Session status: {'status': 'error', 'message': "Video indexing failed: 'global_config'", 'current_step': 'Error', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 17:07:18] ğŸ”„ é…ç½®æ— å˜åŒ–ï¼Œè·³è¿‡åŒæ­¥
[2025-10-07 17:07:18] ğŸ”„ Global config set: {'openai_api_key': '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', 'openai_base_url': 'https://openrouter.ai/api/v1/', 'ali_dashscope_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'ali_dashscope_base_url': 'https://dashscope.aliyuncs.com/compatible-mode/v1', 'base_storage_path': '/data/é¡¹ç›®/videoagent/storage', 'analysisModel': 'x-ai/grok-code-fast-1', 'processingModel': 'x-ai/grok-code-fast-1', 'caption_model': 'qwen-vl-plus'}
[2025-10-07 17:07:36] ğŸ” Query data: {'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘'}
[2025-10-07 17:07:36] ğŸš€ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘
[2025-10-07 17:07:36] ğŸ” Query status: {'status': 'processing', 'message': 'Starting query processing...', 'current_step': 'Initializing', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': None, 'started_at': 1759828056.986121}
[2025-10-07 17:07:41] ğŸ”§ Query worker process 302745 set name to: videorag-query-8o7fsfrzglhzrt6c1u2isl
[2025-10-07 17:07:41] ğŸ”„ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘
[2025-10-07 17:07:41] ğŸ¤ Query ASRé…ç½®: æ¨¡å¼=local, æ¨¡å‹=paraformer-v2
[2025-10-07 17:07:41] ğŸ” Query status: {'status': 'error', 'message': 'Query processing failed: Embedding dim mismatch, expected: 1536, but loaded: 1024', 'current_step': 'Error', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘'}
[2025-10-07 17:07:41] âŒ Query processing failed: Embedding dim mismatch, expected: 1536, but loaded: 1024
[2025-10-07 17:08:03] ğŸ” Session status: {'status': 'error', 'message': "Video indexing failed: 'global_config'", 'current_step': 'Error', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 17:08:16] ğŸ”„ é…ç½®æ— å˜åŒ–ï¼Œè·³è¿‡åŒæ­¥
[2025-10-07 17:08:16] ğŸ”„ Global config set: {'openai_api_key': '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', 'openai_base_url': 'https://openrouter.ai/api/v1/', 'ali_dashscope_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'ali_dashscope_base_url': 'https://dashscope.aliyuncs.com/compatible-mode/v1', 'base_storage_path': '/data/é¡¹ç›®/videoagent/storage', 'analysisModel': 'x-ai/grok-code-fast-1', 'processingModel': 'x-ai/grok-code-fast-1', 'caption_model': 'qwen-vl-plus', 'embedding_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'embedding_base_url': 'https://dashscope.aliyuncs.com/compatible-mode/v1', 'embedding_model_name': 'text-embedding-v4', 'embedding_model_dim': 1024}
[2025-10-07 17:08:38] ğŸ” Query data: {'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘'}
[2025-10-07 17:08:38] ğŸš€ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘
[2025-10-07 17:08:38] ğŸ” Query status: {'status': 'processing', 'message': 'Starting query processing...', 'current_step': 'Initializing', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': None, 'started_at': 1759828118.752757}
[2025-10-07 17:08:43] ğŸ”§ Query worker process 309419 set name to: videorag-query-8o7fsfrzglhzrt6c1u2isl
[2025-10-07 17:08:43] ğŸ”„ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘
[2025-10-07 17:08:43] ğŸ¤ Query ASRé…ç½®: æ¨¡å¼=local, æ¨¡å‹=paraformer-v2
[2025-10-07 17:08:43] ğŸ” Query status: {'status': 'error', 'message': 'Query processing failed: Embedding dim mismatch, expected: 1536, but loaded: 1024', 'current_step': 'Error', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘'}
[2025-10-07 17:08:43] âŒ Query processing failed: Embedding dim mismatch, expected: 1536, but loaded: 1024
[2025-10-07 17:09:14] ğŸ” Session status: {'status': 'error', 'message': "Video indexing failed: 'global_config'", 'current_step': 'Error', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 17:13:02] ğŸ” Query data: {'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘'}
[2025-10-07 17:13:02] ğŸš€ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘
[2025-10-07 17:13:02] ğŸ” Query status: {'status': 'processing', 'message': 'Starting query processing...', 'current_step': 'Initializing', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': None, 'started_at': 1759828382.888441}
[2025-10-07 17:13:07] ğŸ”§ Query worker process 334245 set name to: videorag-query-8o7fsfrzglhzrt6c1u2isl
[2025-10-07 17:13:07] ğŸ”„ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘
[2025-10-07 17:13:07] ğŸ¤ Query ASRé…ç½®: æ¨¡å¼=local, æ¨¡å‹=paraformer-v2
[2025-10-07 17:13:11] ğŸ” Query status: {'status': 'error', 'message': "Query processing failed: 'NoneType' object is not subscriptable", 'current_step': 'Error', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘'}
[2025-10-07 17:13:11] âŒ Query processing failed: 'NoneType' object is not subscriptable
[2025-10-07 17:13:48] ğŸ” Session status: {'status': 'error', 'message': "Video indexing failed: 'global_config'", 'current_step': 'Error', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759826871.8445323, 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '21%'}}
[2025-10-07 17:15:04] Error serving static file api/sessions/8o7fsfrzglhzrt6c1u2isl/query_status: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-10-07 17:15:57] ğŸ” Query data: {'query': 'è¿™ä¸ªè§†é¢‘çš„ä¸»è¦å†…å®¹æ˜¯ä»€ä¹ˆ'}
[2025-10-07 17:15:57] ğŸš€ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: è¿™ä¸ªè§†é¢‘çš„ä¸»è¦å†…å®¹æ˜¯ä»€ä¹ˆ
[2025-10-07 17:15:57] ğŸ” Query status: {'status': 'processing', 'message': 'Starting query processing...', 'current_step': 'Initializing', 'query': 'è¿™ä¸ªè§†é¢‘çš„ä¸»è¦å†…å®¹æ˜¯ä»€ä¹ˆ', 'answer': None, 'started_at': 1759828557.611647}
[2025-10-07 17:16:02] ğŸ”§ Query worker process 350742 set name to: videorag-query-8o7fsfrzglhzrt6c1u2isl
[2025-10-07 17:16:02] ğŸ”„ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: è¿™ä¸ªè§†é¢‘çš„ä¸»è¦å†…å®¹æ˜¯ä»€ä¹ˆ
[2025-10-07 17:16:02] ğŸ”§ Global config keys: ['openai_api_key', 'openai_base_url', 'ali_dashscope_api_key', 'ali_dashscope_base_url', 'base_storage_path', 'analysisModel', 'processingModel', 'caption_model', 'embedding_api_key', 'embedding_base_url', 'embedding_model_name', 'embedding_model_dim']
[2025-10-07 17:16:02] ğŸ”§ Global config sample: {'openai_api_key': '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', 'ali_dashscope_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'analysisModel': 'x-ai/grok-code-fast-1', 'caption_model': 'qwen-vl-plus'}
[2025-10-07 17:16:02] ğŸ”— Query embedding config: {'embedding_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'embedding_base_url': 'https://dashscope.aliyuncs.com/compatible-mode/v1'}
[2025-10-07 17:16:02] ğŸ¤ Query ASRé…ç½®: æ¨¡å¼=local, æ¨¡å‹=paraformer-v2
[2025-10-07 17:16:06] ğŸ” Query status: {'status': 'error', 'message': "Query processing failed: 'NoneType' object is not subscriptable", 'current_step': 'Error', 'query': 'è¿™ä¸ªè§†é¢‘çš„ä¸»è¦å†…å®¹æ˜¯ä»€ä¹ˆ'}
[2025-10-07 17:16:06] âŒ Query processing failed: 'NoneType' object is not subscriptable
[2025-10-07 17:16:44] ğŸ” Query data: {'query': 'è§†é¢‘è®²äº†ä»€ä¹ˆå†…å®¹'}
[2025-10-07 17:16:44] ğŸš€ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: è§†é¢‘è®²äº†ä»€ä¹ˆå†…å®¹
[2025-10-07 17:16:44] ğŸ” Query status: {'status': 'processing', 'message': 'Starting query processing...', 'current_step': 'Initializing', 'query': 'è§†é¢‘è®²äº†ä»€ä¹ˆå†…å®¹', 'answer': None, 'started_at': 1759828604.9209018}
[2025-10-07 17:16:49] ğŸ”§ Query worker process 355006 set name to: videorag-query-8o7fsfrzglhzrt6c1u2isl
[2025-10-07 17:16:49] ğŸ”„ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: è§†é¢‘è®²äº†ä»€ä¹ˆå†…å®¹
[2025-10-07 17:16:49] ğŸ”§ Global config keys: ['openai_api_key', 'openai_base_url', 'ali_dashscope_api_key', 'ali_dashscope_base_url', 'base_storage_path', 'analysisModel', 'processingModel', 'caption_model', 'embedding_api_key', 'embedding_base_url', 'embedding_model_name', 'embedding_model_dim']
[2025-10-07 17:16:49] ğŸ”§ Global config sample: {'openai_api_key': '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', 'ali_dashscope_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'analysisModel': 'x-ai/grok-code-fast-1', 'caption_model': 'qwen-vl-plus'}
[2025-10-07 17:16:49] ğŸ”— Query embedding config: {'embedding_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'embedding_base_url': 'https://dashscope.aliyuncs.com/compatible-mode/v1'}
[2025-10-07 17:16:49] ğŸ¤ Query ASRé…ç½®: æ¨¡å¼=local, æ¨¡å‹=paraformer-v2
[2025-10-07 17:16:49] ğŸ”§ Creating VideoRAG instance with working_dir: /data/é¡¹ç›®/videoagent/storage/chat-8o7fsfrzglhzrt6c1u2isl
[2025-10-07 17:16:49] ğŸ”§ VideoRAG LLM config: embedding_func=function, embedding_dim=1024
[2025-10-07 17:16:53] âœ… VideoRAG instance created successfully
[2025-10-07 17:16:53] ğŸ”§ VideoRAG attributes: caption_model=True, working_dir=/data/é¡¹ç›®/videoagent/storage/chat-8o7fsfrzglhzrt6c1u2isl
[2025-10-07 17:16:53] ğŸ”§ Starting VideoRAG query with mode='videorag'
[2025-10-07 17:16:54] ğŸ” Query status: {'status': 'error', 'message': "Query processing failed: 'NoneType' object is not subscriptable", 'current_step': 'Error', 'query': 'è§†é¢‘è®²äº†ä»€ä¹ˆå†…å®¹'}
[2025-10-07 17:16:54] âŒ Query processing failed: 'NoneType' object is not subscriptable
[2025-10-07 17:17:56] ğŸ” Query data: {'query': 'è¿™ä¸ªè§†é¢‘çš„ä¸»è¦å†…å®¹'}
[2025-10-07 17:17:56] ğŸš€ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: è¿™ä¸ªè§†é¢‘çš„ä¸»è¦å†…å®¹
[2025-10-07 17:17:56] ğŸ” Query status: {'status': 'processing', 'message': 'Starting query processing...', 'current_step': 'Initializing', 'query': 'è¿™ä¸ªè§†é¢‘çš„ä¸»è¦å†…å®¹', 'answer': None, 'started_at': 1759828676.4873126}
[2025-10-07 17:18:01] ğŸ”§ Query worker process 361871 set name to: videorag-query-8o7fsfrzglhzrt6c1u2isl
[2025-10-07 17:18:01] ğŸ”„ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: è¿™ä¸ªè§†é¢‘çš„ä¸»è¦å†…å®¹
[2025-10-07 17:18:01] ğŸ”§ Global config keys: ['openai_api_key', 'openai_base_url', 'ali_dashscope_api_key', 'ali_dashscope_base_url', 'base_storage_path', 'analysisModel', 'processingModel', 'caption_model', 'embedding_api_key', 'embedding_base_url', 'embedding_model_name', 'embedding_model_dim']
[2025-10-07 17:18:01] ğŸ”§ Global config sample: {'openai_api_key': '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', 'ali_dashscope_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'analysisModel': 'x-ai/grok-code-fast-1', 'caption_model': 'qwen-vl-plus'}
[2025-10-07 17:18:01] ğŸ”— Query embedding config: {'embedding_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'embedding_base_url': 'https://dashscope.aliyuncs.com/compatible-mode/v1'}
[2025-10-07 17:18:01] ğŸ¤ Query ASRé…ç½®: æ¨¡å¼=local, æ¨¡å‹=paraformer-v2
[2025-10-07 17:18:01] ğŸ”§ Creating VideoRAG instance with working_dir: /data/é¡¹ç›®/videoagent/storage/chat-8o7fsfrzglhzrt6c1u2isl
[2025-10-07 17:18:01] ğŸ”§ VideoRAG LLM config: embedding_func=function, embedding_dim=1024
[2025-10-07 17:18:05] âœ… VideoRAG instance created successfully
[2025-10-07 17:18:05] ğŸ”§ VideoRAG attributes: caption_model=True, working_dir=/data/é¡¹ç›®/videoagent/storage/chat-8o7fsfrzglhzrt6c1u2isl
[2025-10-07 17:18:05] ğŸ”§ Starting VideoRAG query with mode='videorag'
[2025-10-07 17:18:05] ğŸ” Query status: {'status': 'error', 'message': "Query processing failed: 'NoneType' object is not subscriptable", 'current_step': 'Error', 'query': 'è¿™ä¸ªè§†é¢‘çš„ä¸»è¦å†…å®¹'}
[2025-10-07 17:18:05] âŒ Query processing failed: 'NoneType' object is not subscriptable
[2025-10-07 17:18:05] ğŸ” Full traceback:
Traceback (most recent call last):
  File "/data/é¡¹ç›®/videoagent/backend/videorag_api.py", line 1260, in query_worker_process
    response = videorag_instance.query(query=query, param=param)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/é¡¹ç›®/videoagent/VideoRAG-algorithm/videorag/videorag.py", line 509, in query
    return loop.run_until_complete(self.aquery(query, param))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/data/é¡¹ç›®/videoagent/VideoRAG-algorithm/videorag/videorag.py", line 513, in aquery
    response = await videorag_query(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/data/é¡¹ç›®/videoagent/VideoRAG-algorithm/videorag/_op.py", line 604, in videorag_query
    maybe_trun_chunks = truncate_list_by_token_size(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/é¡¹ç›®/videoagent/VideoRAG-algorithm/videorag/_utils.py", line 74, in truncate_list_by_token_size
    tokens += len(encode_string_by_tiktoken(key(data)))
                                            ^^^^^^^^^
  File "/data/é¡¹ç›®/videoagent/VideoRAG-algorithm/videorag/_op.py", line 606, in <lambda>
    key=lambda x: x["content"],
                  ~^^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable

[2025-10-07 17:20:06] ğŸ” Query data: {'query': 'è¿™ä¸ªè§†é¢‘æ˜¯å…³äºä»€ä¹ˆçš„'}
[2025-10-07 17:20:06] ğŸš€ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: è¿™ä¸ªè§†é¢‘æ˜¯å…³äºä»€ä¹ˆçš„
[2025-10-07 17:20:06] ğŸ” Query status: {'status': 'processing', 'message': 'Starting query processing...', 'current_step': 'Initializing', 'query': 'è¿™ä¸ªè§†é¢‘æ˜¯å…³äºä»€ä¹ˆçš„', 'answer': None, 'started_at': 1759828806.6653903}
[2025-10-07 17:20:11] ğŸ”§ Query worker process 374502 set name to: videorag-query-8o7fsfrzglhzrt6c1u2isl
[2025-10-07 17:20:11] ğŸ”„ Starting query processing for chat 8o7fsfrzglhzrt6c1u2isl: è¿™ä¸ªè§†é¢‘æ˜¯å…³äºä»€ä¹ˆçš„
[2025-10-07 17:20:11] ğŸ”§ Global config keys: ['openai_api_key', 'openai_base_url', 'ali_dashscope_api_key', 'ali_dashscope_base_url', 'base_storage_path', 'analysisModel', 'processingModel', 'caption_model', 'embedding_api_key', 'embedding_base_url', 'embedding_model_name', 'embedding_model_dim']
[2025-10-07 17:20:11] ğŸ”§ Global config sample: {'openai_api_key': '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', 'ali_dashscope_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'analysisModel': 'x-ai/grok-code-fast-1', 'caption_model': 'qwen-vl-plus'}
[2025-10-07 17:20:11] ğŸ”— Query embedding config: {'embedding_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'embedding_base_url': 'https://dashscope.aliyuncs.com/compatible-mode/v1'}
[2025-10-07 17:20:11] ğŸ¤ Query ASRé…ç½®: æ¨¡å¼=local, æ¨¡å‹=paraformer-v2
[2025-10-07 17:20:11] ğŸ”§ Creating VideoRAG instance with working_dir: /data/é¡¹ç›®/videoagent/storage/chat-8o7fsfrzglhzrt6c1u2isl
[2025-10-07 17:20:11] ğŸ”§ VideoRAG LLM config: embedding_func=function, embedding_dim=1024
[2025-10-07 17:20:15] âœ… VideoRAG instance created successfully
[2025-10-07 17:20:15] ğŸ”§ VideoRAG attributes: caption_model=True, working_dir=/data/é¡¹ç›®/videoagent/storage/chat-8o7fsfrzglhzrt6c1u2isl
[2025-10-07 17:20:15] ğŸ”§ Starting VideoRAG query with mode='videorag'
[2025-10-07 17:20:15] âš ï¸ Could not check chunks: cannot import name 'get_storage_backend' from 'videorag._storage' (/data/é¡¹ç›®/videoagent/backend/videorag/_storage/__init__.py)
[2025-10-07 17:20:16] ğŸ” Query status: {'status': 'error', 'message': "Query processing failed: 'NoneType' object is not subscriptable", 'current_step': 'Error', 'query': 'è¿™ä¸ªè§†é¢‘æ˜¯å…³äºä»€ä¹ˆçš„'}
[2025-10-07 17:20:16] âŒ Query processing failed: 'NoneType' object is not subscriptable
[2025-10-07 17:20:16] ğŸ” Full traceback:
Traceback (most recent call last):
  File "/data/é¡¹ç›®/videoagent/backend/videorag_api.py", line 1279, in query_worker_process
    response = videorag_instance.query(query=query, param=param)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/é¡¹ç›®/videoagent/VideoRAG-algorithm/videorag/videorag.py", line 509, in query
    return loop.run_until_complete(self.aquery(query, param))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/data/é¡¹ç›®/videoagent/VideoRAG-algorithm/videorag/videorag.py", line 513, in aquery
    response = await videorag_query(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/data/é¡¹ç›®/videoagent/VideoRAG-algorithm/videorag/_op.py", line 604, in videorag_query
    maybe_trun_chunks = truncate_list_by_token_size(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/é¡¹ç›®/videoagent/VideoRAG-algorithm/videorag/_utils.py", line 74, in truncate_list_by_token_size
    tokens += len(encode_string_by_tiktoken(key(data)))
                                            ^^^^^^^^^
  File "/data/é¡¹ç›®/videoagent/VideoRAG-algorithm/videorag/_op.py", line 606, in <lambda>
    key=lambda x: x["content"],
                  ~^^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable

[2025-10-07 17:42:31] ğŸ”” Received signal 15, initiating shutdown...
[2025-10-07 17:42:31] ğŸ”” VideoRAG API server is shutting down...
[2025-10-07 17:42:31] ğŸ§¹ Starting process cleanup...
[2025-10-07 17:42:33] ğŸ§¹ Process manager cleanup completed
[2025-10-07 17:42:33] âš ï¸ ImageBind not loaded, nothing to release
[2025-10-07 17:42:33] ğŸ§¹ ImageBind manager cleaned up
[2025-10-07 17:42:33] âœ… Cleanup completed
[2025-10-07 17:42:48] ğŸš€ Starting VideoRAG Web API on port 64451
[2025-10-07 17:42:48] ğŸ“ Main process PID: 470300
tail: /data/é¡¹ç›®/videoagent/backend/log.txt: æ–‡ä»¶å·²æˆªæ–­
[2025-10-07 17:42:56] ğŸ”„ Returning default configuration from environment variables
[2025-10-07 17:42:58] âœ… åŒæ­¥é…ç½® image_bind_model_path -> IMAGEBIND_MODEL_PATH = /data/é¡¹ç›®/videoagent/models
[2025-10-07 17:42:58] âœ… åŒæ­¥é…ç½® asr_model -> ASR_MODEL = paraformer-v2
[2025-10-07 17:42:58] âœ… é…ç½®åŒæ­¥åˆ°ç¯å¢ƒå˜é‡å®Œæˆ
[2025-10-07 17:42:58] ğŸ”„ Global config set: {'openai_api_key': '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', 'openai_base_url': 'https://openrouter.ai/api/v1/', 'ali_dashscope_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'ali_dashscope_base_url': 'https://dashscope.aliyuncs.com/compatible-mode/v1', 'analysisModel': 'x-ai/grok-code-fast-1', 'processingModel': 'x-ai/grok-code-fast-1', 'caption_model': 'qwen-vl-plus', 'asr_model': 'paraformer-v2', 'image_bind_model_path': '/data/é¡¹ç›®/videoagent/models', 'base_storage_path': '/data/é¡¹ç›®/videoagent/storage'}
[2025-10-07 17:42:58] âœ… ImageBind manager configured with model path: /data/é¡¹ç›®/videoagent/models
[2025-10-07 17:42:59] ğŸ” Scanning video files in: /data/é¡¹ç›®/videoagent/storage
[2025-10-07 17:43:11] ğŸ” Query data: {'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘'}
[2025-10-07 17:43:11] ğŸš€ Starting query processing for chat 4p8hdxuk9c4y0ajw90zl9: æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘
[2025-10-07 17:43:11] ğŸ” Query status: {'status': 'processing', 'message': 'Starting query processing...', 'current_step': 'Initializing', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': None, 'started_at': 1759830191.3381555}
[2025-10-07 17:43:15] ğŸ” Query status: {'status': 'processing', 'message': 'Starting query processing...', 'current_step': 'Initializing', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': None, 'started_at': 1759830191.3381555}
[2025-10-07 17:43:15] ğŸ”§ Query worker process 473098 set name to: videorag-query-4p8hdxuk9c4y0ajw90zl9
[2025-10-07 17:43:15] ğŸ”„ Starting query processing for chat 4p8hdxuk9c4y0ajw90zl9: æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘
[2025-10-07 17:43:15] ğŸ”§ Global config keys: ['openai_api_key', 'openai_base_url', 'ali_dashscope_api_key', 'ali_dashscope_base_url', 'analysisModel', 'processingModel', 'caption_model', 'asr_model', 'image_bind_model_path', 'base_storage_path']
[2025-10-07 17:43:15] ğŸ”§ Global config sample: {'openai_api_key': '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', 'ali_dashscope_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'analysisModel': 'x-ai/grok-code-fast-1', 'caption_model': 'qwen-vl-plus'}
[2025-10-07 17:43:15] ğŸ”— Query embedding config: {'embedding_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'embedding_base_url': 'https://dashscope.aliyuncs.com/compatible-mode/v1'}
[2025-10-07 17:43:15] ğŸ¤ Query ASRé…ç½®: æ¨¡å¼=local, æ¨¡å‹=paraformer-v2
[2025-10-07 17:43:15] ğŸ”§ Creating VideoRAG instance with working_dir: /data/é¡¹ç›®/videoagent/storage/chat-4p8hdxuk9c4y0ajw90zl9
[2025-10-07 17:43:15] ğŸ”§ VideoRAG LLM config: embedding_func=function, embedding_dim=1024
[2025-10-07 17:43:17] ğŸ” Query status: {'status': 'processing', 'message': 'Initializing query processing...', 'current_step': 'Initializing', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': None, 'started_at': 1759830191.3381555}
[2025-10-07 17:43:19] ğŸ” Query status: {'status': 'processing', 'message': 'Initializing query processing...', 'current_step': 'Initializing', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': None, 'started_at': 1759830191.3381555}
[2025-10-07 17:43:19] âœ… VideoRAG instance created successfully
[2025-10-07 17:43:19] ğŸ”§ VideoRAG attributes: caption_model=True, working_dir=/data/é¡¹ç›®/videoagent/storage/chat-4p8hdxuk9c4y0ajw90zl9
[2025-10-07 17:43:19] ğŸ”§ Starting VideoRAG query with mode='videorag'
[2025-10-07 17:43:20] âš ï¸ Could not check chunks: cannot import name 'get_storage_backend' from 'videorag._storage' (/data/é¡¹ç›®/videoagent/backend/videorag/_storage/__init__.py)
[2025-10-07 17:43:20] âœ… VideoRAG query completed, response type: <class 'str'>
[2025-10-07 17:43:20] ğŸ” Query status: {'status': 'completed', 'message': 'Query processing completed', 'current_step': 'Completed', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': "Sorry, I'm not able to provide an answer to that question."}
[2025-10-07 17:43:20] âœ… Query processing completed for chat 4p8hdxuk9c4y0ajw90zl9
[2025-10-07 17:43:21] ğŸ” Query status: {'status': 'completed', 'message': 'Query processing completed', 'current_step': 'Completed', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': "Sorry, I'm not able to provide an answer to that question.", 'started_at': 1759830191.3381555}
[2025-10-07 17:48:08] ğŸ” Query data: {'query': 'æµ‹è¯•æŸ¥è¯¢ä¿®å¤æ•ˆæœ'}
[2025-10-07 17:48:08] ğŸš€ Starting query processing for chat test-fix-1759830488: æµ‹è¯•æŸ¥è¯¢ä¿®å¤æ•ˆæœ
[2025-10-07 17:48:08] ğŸ” Query status: {'status': 'processing', 'message': 'Starting query processing...', 'current_step': 'Initializing', 'query': 'æµ‹è¯•æŸ¥è¯¢ä¿®å¤æ•ˆæœ', 'answer': None, 'started_at': 1759830488.338104}
[2025-10-07 17:48:10] ğŸ” Query status: {'status': 'processing', 'message': 'Starting query processing...', 'current_step': 'Initializing', 'query': 'æµ‹è¯•æŸ¥è¯¢ä¿®å¤æ•ˆæœ', 'answer': None, 'started_at': 1759830488.338104}
[2025-10-07 17:48:12] ğŸ” Query status: {'status': 'processing', 'message': 'Starting query processing...', 'current_step': 'Initializing', 'query': 'æµ‹è¯•æŸ¥è¯¢ä¿®å¤æ•ˆæœ', 'answer': None, 'started_at': 1759830488.338104}
[2025-10-07 17:48:12] ğŸ”§ Query worker process 501046 set name to: videorag-query-test-fix-1759830488
[2025-10-07 17:48:12] ğŸ”„ Starting query processing for chat test-fix-1759830488: æµ‹è¯•æŸ¥è¯¢ä¿®å¤æ•ˆæœ
[2025-10-07 17:48:12] ğŸ”§ Global config keys: ['openai_api_key', 'openai_base_url', 'ali_dashscope_api_key', 'ali_dashscope_base_url', 'analysisModel', 'processingModel', 'caption_model', 'asr_model', 'image_bind_model_path', 'base_storage_path']
[2025-10-07 17:48:12] ğŸ”§ Global config sample: {'openai_api_key': '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', 'ali_dashscope_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'analysisModel': 'x-ai/grok-code-fast-1', 'caption_model': 'qwen-vl-plus'}
[2025-10-07 17:48:12] ğŸ”— Query embedding config: {'embedding_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'embedding_base_url': 'https://dashscope.aliyuncs.com/compatible-mode/v1'}
[2025-10-07 17:48:12] ğŸ¤ Query ASRé…ç½®: æ¨¡å¼=local, æ¨¡å‹=paraformer-v2
[2025-10-07 17:48:12] ğŸ”§ Creating VideoRAG instance with working_dir: /data/é¡¹ç›®/videoagent/storage/chat-test-fix-1759830488
[2025-10-07 17:48:12] ğŸ”§ VideoRAG LLM config: embedding_func=function, embedding_dim=1024
[2025-10-07 17:48:14] ğŸ” Query status: {'status': 'processing', 'message': 'Initializing query processing...', 'current_step': 'Initializing', 'query': 'æµ‹è¯•æŸ¥è¯¢ä¿®å¤æ•ˆæœ', 'answer': None, 'started_at': 1759830488.338104}
[2025-10-07 17:48:16] ğŸ” Query status: {'status': 'processing', 'message': 'Initializing query processing...', 'current_step': 'Initializing', 'query': 'æµ‹è¯•æŸ¥è¯¢ä¿®å¤æ•ˆæœ', 'answer': None, 'started_at': 1759830488.338104}
[2025-10-07 17:48:16] âœ… VideoRAG instance created successfully
[2025-10-07 17:48:16] ğŸ”§ VideoRAG attributes: caption_model=True, working_dir=/data/é¡¹ç›®/videoagent/storage/chat-test-fix-1759830488
[2025-10-07 17:48:16] ğŸ”§ Starting VideoRAG query with mode='videorag'
[2025-10-07 17:48:17] âœ… VideoRAG query completed, response type: <class 'str'>
[2025-10-07 17:48:17] ğŸ” Query status: {'status': 'completed', 'message': 'Query processing completed', 'current_step': 'Completed', 'query': 'æµ‹è¯•æŸ¥è¯¢ä¿®å¤æ•ˆæœ', 'answer': "Sorry, I'm not able to provide an answer to that question."}
[2025-10-07 17:48:17] âœ… Query processing completed for chat test-fix-1759830488
[2025-10-07 17:48:18] ğŸ” Query status: {'status': 'completed', 'message': 'Query processing completed', 'current_step': 'Completed', 'query': 'æµ‹è¯•æŸ¥è¯¢ä¿®å¤æ•ˆæœ', 'answer': "Sorry, I'm not able to provide an answer to that question.", 'started_at': 1759830488.338104}
[2025-10-07 17:49:37] ğŸ” Scanning video files in: /data/é¡¹ç›®/videoagent/storage
[2025-10-07 17:49:40] ğŸ” Query data: {'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘'}
[2025-10-07 17:49:40] ğŸš€ Starting query processing for chat 6lcqdyuutl82o1d9504716: æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘
[2025-10-07 17:49:40] ğŸ” Query status: {'status': 'processing', 'message': 'Starting query processing...', 'current_step': 'Initializing', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': None, 'started_at': 1759830580.890139}
[2025-10-07 17:49:44] ğŸ” Query status: {'status': 'processing', 'message': 'Starting query processing...', 'current_step': 'Initializing', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': None, 'started_at': 1759830580.890139}
[2025-10-07 17:49:45] ğŸ”§ Query worker process 509108 set name to: videorag-query-6lcqdyuutl82o1d9504716
[2025-10-07 17:49:45] ğŸ”„ Starting query processing for chat 6lcqdyuutl82o1d9504716: æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘
[2025-10-07 17:49:45] ğŸ”§ Global config keys: ['openai_api_key', 'openai_base_url', 'ali_dashscope_api_key', 'ali_dashscope_base_url', 'analysisModel', 'processingModel', 'caption_model', 'asr_model', 'image_bind_model_path', 'base_storage_path']
[2025-10-07 17:49:45] ğŸ”§ Global config sample: {'openai_api_key': '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', 'ali_dashscope_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'analysisModel': 'x-ai/grok-code-fast-1', 'caption_model': 'qwen-vl-plus'}
[2025-10-07 17:49:45] ğŸ”— Query embedding config: {'embedding_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'embedding_base_url': 'https://dashscope.aliyuncs.com/compatible-mode/v1'}
[2025-10-07 17:49:45] ğŸ¤ Query ASRé…ç½®: æ¨¡å¼=local, æ¨¡å‹=paraformer-v2
[2025-10-07 17:49:45] ğŸ”§ Creating VideoRAG instance with working_dir: /data/é¡¹ç›®/videoagent/storage/chat-6lcqdyuutl82o1d9504716
[2025-10-07 17:49:45] ğŸ”§ VideoRAG LLM config: embedding_func=function, embedding_dim=1024
[2025-10-07 17:49:47] ğŸ” Query status: {'status': 'processing', 'message': 'Initializing query processing...', 'current_step': 'Initializing', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': None, 'started_at': 1759830580.890139}
[2025-10-07 17:49:49] ğŸ” Query status: {'status': 'processing', 'message': 'Initializing query processing...', 'current_step': 'Initializing', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': None, 'started_at': 1759830580.890139}
[2025-10-07 17:49:49] âœ… VideoRAG instance created successfully
[2025-10-07 17:49:49] ğŸ”§ VideoRAG attributes: caption_model=True, working_dir=/data/é¡¹ç›®/videoagent/storage/chat-6lcqdyuutl82o1d9504716
[2025-10-07 17:49:49] ğŸ”§ Starting VideoRAG query with mode='videorag'
[2025-10-07 17:49:49] âœ… VideoRAG query completed, response type: <class 'str'>
[2025-10-07 17:49:49] ğŸ” Query status: {'status': 'completed', 'message': 'Query processing completed', 'current_step': 'Completed', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': "Sorry, I'm not able to provide an answer to that question."}
[2025-10-07 17:49:49] âœ… Query processing completed for chat 6lcqdyuutl82o1d9504716
[2025-10-07 17:49:51] ğŸ” Query status: {'status': 'completed', 'message': 'Query processing completed', 'current_step': 'Completed', 'query': 'æ€»ç»“ä¸‹è¿™ä¸ªè§†é¢‘', 'answer': "Sorry, I'm not able to provide an answer to that question.", 'started_at': 1759830580.890139}
[2025-10-07 17:50:17] ğŸ” Scanning video files in: /data/é¡¹ç›®/videoagent/storage
[2025-10-07 17:50:20] ğŸ”” Received signal 15, initiating shutdown...
[2025-10-07 17:50:20] ğŸ”” VideoRAG API server is shutting down...
[2025-10-07 17:50:20] ğŸ§¹ Starting process cleanup...
[2025-10-07 17:50:23] ğŸ§¹ Process manager cleanup completed
[2025-10-07 17:50:23] âš ï¸ ImageBind not loaded, nothing to release
[2025-10-07 17:50:23] ğŸ§¹ ImageBind manager cleaned up
[2025-10-07 17:50:23] âœ… Cleanup completed
[2025-10-07 17:50:33] ğŸš€ Starting VideoRAG Web API on port 64451
[2025-10-07 17:50:33] ğŸ“ Main process PID: 513462
[2025-10-07 17:50:36] ğŸ”„ Returning default configuration from environment variables
[2025-10-07 17:50:38] âœ… åŒæ­¥é…ç½® image_bind_model_path -> IMAGEBIND_MODEL_PATH = /data/é¡¹ç›®/videoagent/models
[2025-10-07 17:50:38] âœ… åŒæ­¥é…ç½® asr_model -> ASR_MODEL = paraformer-v2
[2025-10-07 17:50:38] âœ… é…ç½®åŒæ­¥åˆ°ç¯å¢ƒå˜é‡å®Œæˆ
[2025-10-07 17:50:38] ğŸ”„ Global config set: {'openai_api_key': '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', 'openai_base_url': 'https://openrouter.ai/api/v1/', 'ali_dashscope_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'ali_dashscope_base_url': 'https://dashscope.aliyuncs.com/compatible-mode/v1', 'analysisModel': 'x-ai/grok-code-fast-1', 'processingModel': 'x-ai/grok-code-fast-1', 'caption_model': 'qwen-vl-plus', 'asr_model': 'paraformer-v2', 'image_bind_model_path': '/data/é¡¹ç›®/videoagent/models', 'base_storage_path': '/data/é¡¹ç›®/videoagent/storage'}
[2025-10-07 17:50:38] âœ… ImageBind manager configured with model path: /data/é¡¹ç›®/videoagent/models
[2025-10-07 17:50:40] ğŸ” Scanning video files in: /data/é¡¹ç›®/videoagent/storage
[2025-10-07 17:50:44] ğŸ“¹ Starting video processing from web upload: 1 files
[2025-10-07 17:50:46] ğŸ” Session status: {'status': 'processing', 'message': 'Initializing AI Assistant...', 'current_step': 'Initializing', 'total_videos': 1, 'processed_videos': 0}
[2025-10-07 17:50:48] ğŸ” Session status: {'status': 'processing', 'message': 'Initializing AI Assistant...', 'current_step': 'Initializing', 'total_videos': 1, 'processed_videos': 0}
[2025-10-07 17:50:48] ğŸ”§ Index worker process 514534 set name to: videorag-index-v8gisf63f7wv26diksgdm
[2025-10-07 17:50:48] ğŸ” Session status: {'status': 'processing', 'message': 'Initializing AI Assistant...', 'current_step': 'Initializing'}
[2025-10-07 17:50:48] ğŸ¤ ASRé…ç½®: æ¨¡å¼=local, æ¨¡å‹=paraformer-v2
[2025-10-07 17:50:48] ğŸ”— åµŒå…¥é…ç½®: URL=https://dashscope.aliyuncs.com/compatible-mode/v1, æ¨¡å‹=text-embedding-v4, ç»´åº¦=1024
[2025-10-07 17:50:50] ğŸ” Session status: {'status': 'processing', 'message': 'Initializing AI Assistant...', 'current_step': 'Initializing', 'total_videos': 1, 'processed_videos': 0}
[2025-10-07 17:50:52] ğŸ” Session status: {'status': 'processing', 'message': 'Initializing AI Assistant...', 'current_step': 'Initializing', 'total_videos': 1, 'processed_videos': 0}
[2025-10-07 17:50:52] ğŸ” Session status: {'status': 'processing', 'message': 'Processing video: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE', 'current_step': 'Starting Video', 'timestamp': 1759830652.5690243}
[2025-10-07 17:50:52] ğŸ“Š Progress: Starting Video - Processing video: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE
[2025-10-07 17:50:52] ğŸ” Session status: {'status': 'processing', 'message': 'Splitting video: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE into segments', 'current_step': 'Splitting Video', 'timestamp': 1759830652.5698988}
[2025-10-07 17:50:52] ğŸ“Š Progress: Splitting Video - Splitting video: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE into segments
[2025-10-07 17:50:54] ğŸ” Session status: {'status': 'processing', 'message': 'Splitting video: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE into segments', 'current_step': 'Splitting Video', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759830652.5698988}
[2025-10-07 17:50:56] ğŸ” Session status: {'status': 'processing', 'message': 'Splitting video: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE into segments', 'current_step': 'Splitting Video', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759830652.5698988}
[2025-10-07 17:50:58] ğŸ” Session status: {'status': 'processing', 'message': 'Splitting video: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE into segments', 'current_step': 'Splitting Video', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759830652.5698988}
[2025-10-07 17:51:13] ğŸ” Session status: {'status': 'processing', 'message': 'Video 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE split into 21 segments', 'current_step': 'Video Split', 'timestamp': 1759830673.6195862}
[2025-10-07 17:51:13] ğŸ“Š Progress: Video Split - Video 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE split into 21 segments
[2025-10-07 17:51:13] ğŸ” Session status: {'status': 'processing', 'message': 'Transcribing audio for video: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE', 'current_step': 'Transcribing Audio', 'timestamp': 1759830673.620084}
[2025-10-07 17:51:13] ğŸ“Š Progress: Transcribing Audio - Transcribing audio for video: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE
[2025-10-07 17:54:20] ğŸ” Session status: {'status': 'processing', 'message': 'ASRå¤„ç†ä¸­: 1/21 (é€Ÿåº¦: 0.01/ç§’)', 'current_step': 'Transcribing Audio', 'progress_current': 1, 'progress_total': 21, 'progress_percentage': 4.761904761904762, 'processing_speed': '0.01 æ–‡ä»¶/ç§’', 'eta': '3732ç§’', 'resource_usage': {'cpu': '50%', 'memory': '28%'}, 'timestamp': 1759830860.2229886}
[2025-10-07 17:54:20] ğŸ“Š Progress: Transcribing Audio - ASRå¤„ç†ä¸­: 1/21 (é€Ÿåº¦: 0.01/ç§’)
[2025-10-07 17:54:35] ğŸ” Session status: {'status': 'processing', 'message': 'ASRå¤„ç†ä¸­: 2/21 (é€Ÿåº¦: 0.01/ç§’)', 'current_step': 'Transcribing Audio', 'progress_current': 2, 'progress_total': 21, 'progress_percentage': 9.523809523809524, 'processing_speed': '0.01 æ–‡ä»¶/ç§’', 'eta': '1913ç§’', 'resource_usage': {'cpu': '60%', 'memory': '28%'}, 'timestamp': 1759830875.012956}
[2025-10-07 17:54:35] ğŸ“Š Progress: Transcribing Audio - ASRå¤„ç†ä¸­: 2/21 (é€Ÿåº¦: 0.01/ç§’)
[2025-10-07 17:59:12] ğŸ” Session status: {'status': 'processing', 'message': 'ASRå¤„ç†ä¸­: 3/21 (é€Ÿåº¦: 0.01/ç§’)', 'current_step': 'Transcribing Audio', 'progress_current': 3, 'progress_total': 21, 'progress_percentage': 14.285714285714285, 'processing_speed': '0.01 æ–‡ä»¶/ç§’', 'eta': '2874ç§’', 'resource_usage': {'cpu': '50%', 'memory': '28%'}, 'timestamp': 1759831152.604986}
[2025-10-07 17:59:12] ğŸ“Š Progress: Transcribing Audio - ASRå¤„ç†ä¸­: 3/21 (é€Ÿåº¦: 0.01/ç§’)
[2025-10-07 17:59:15] ğŸ” Session status: {'status': 'processing', 'message': 'ASRå¤„ç†ä¸­: 5/21 (é€Ÿåº¦: 0.01/ç§’)', 'current_step': 'Transcribing Audio', 'progress_current': 5, 'progress_total': 21, 'progress_percentage': 23.809523809523807, 'processing_speed': '0.01 æ–‡ä»¶/ç§’', 'eta': '1542ç§’', 'resource_usage': {'cpu': '33%', 'memory': '28%'}, 'timestamp': 1759831155.5288537}
[2025-10-07 17:59:15] ğŸ“Š Progress: Transcribing Audio - ASRå¤„ç†ä¸­: 5/21 (é€Ÿåº¦: 0.01/ç§’)
[2025-10-07 17:59:19] ğŸ” Session status: {'status': 'processing', 'message': 'ASRå¤„ç†ä¸­: 7/21 (é€Ÿåº¦: 0.01/ç§’)', 'current_step': 'Transcribing Audio', 'progress_current': 7, 'progress_total': 21, 'progress_percentage': 33.33333333333333, 'processing_speed': '0.01 æ–‡ä»¶/ç§’', 'eta': '972ç§’', 'resource_usage': {'cpu': '57%', 'memory': '28%'}, 'timestamp': 1759831159.538797}
[2025-10-07 17:59:19] ğŸ“Š Progress: Transcribing Audio - ASRå¤„ç†ä¸­: 7/21 (é€Ÿåº¦: 0.01/ç§’)
[2025-10-07 17:59:22] ğŸ” Session status: {'status': 'processing', 'message': 'ASRå¤„ç†ä¸­: 9/21 (é€Ÿåº¦: 0.02/ç§’)', 'current_step': 'Transcribing Audio', 'progress_current': 9, 'progress_total': 21, 'progress_percentage': 42.857142857142854, 'processing_speed': '0.02 æ–‡ä»¶/ç§’', 'eta': '652ç§’', 'resource_usage': {'cpu': '67%', 'memory': '28%'}, 'timestamp': 1759831162.8187048}
[2025-10-07 17:59:22] ğŸ“Š Progress: Transcribing Audio - ASRå¤„ç†ä¸­: 9/21 (é€Ÿåº¦: 0.02/ç§’)
[2025-10-07 17:59:26] ğŸ” Session status: {'status': 'processing', 'message': 'ASRå¤„ç†ä¸­: 11/21 (é€Ÿåº¦: 0.02/ç§’)', 'current_step': 'Transcribing Audio', 'progress_current': 11, 'progress_total': 21, 'progress_percentage': 52.38095238095239, 'processing_speed': '0.02 æ–‡ä»¶/ç§’', 'eta': '448ç§’', 'resource_usage': {'cpu': '57%', 'memory': '28%'}, 'timestamp': 1759831166.5719573}
[2025-10-07 17:59:26] ğŸ“Š Progress: Transcribing Audio - ASRå¤„ç†ä¸­: 11/21 (é€Ÿåº¦: 0.02/ç§’)
[2025-10-07 17:59:29] ğŸ” Session status: {'status': 'processing', 'message': 'ASRå¤„ç†ä¸­: 13/21 (é€Ÿåº¦: 0.03/ç§’)', 'current_step': 'Transcribing Audio', 'progress_current': 13, 'progress_total': 21, 'progress_percentage': 61.904761904761905, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '305ç§’', 'resource_usage': {'cpu': '43%', 'memory': '28%'}, 'timestamp': 1759831169.995712}
[2025-10-07 17:59:29] ğŸ“Š Progress: Transcribing Audio - ASRå¤„ç†ä¸­: 13/21 (é€Ÿåº¦: 0.03/ç§’)
[2025-10-07 17:59:33] ğŸ” Session status: {'status': 'processing', 'message': 'ASRå¤„ç†ä¸­: 15/21 (é€Ÿåº¦: 0.03/ç§’)', 'current_step': 'Transcribing Audio', 'progress_current': 15, 'progress_total': 21, 'progress_percentage': 71.42857142857143, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '200ç§’', 'resource_usage': {'cpu': '60%', 'memory': '28%'}, 'timestamp': 1759831173.5907156}
[2025-10-07 17:59:33] ğŸ“Š Progress: Transcribing Audio - ASRå¤„ç†ä¸­: 15/21 (é€Ÿåº¦: 0.03/ç§’)
[2025-10-07 17:59:37] ğŸ” Session status: {'status': 'processing', 'message': 'ASRå¤„ç†ä¸­: 17/21 (é€Ÿåº¦: 0.03/ç§’)', 'current_step': 'Transcribing Audio', 'progress_current': 17, 'progress_total': 21, 'progress_percentage': 80.95238095238095, 'processing_speed': '0.03 æ–‡ä»¶/ç§’', 'eta': '119ç§’', 'resource_usage': {'cpu': '50%', 'memory': '28%'}, 'timestamp': 1759831177.262433}
[2025-10-07 17:59:37] ğŸ“Š Progress: Transcribing Audio - ASRå¤„ç†ä¸­: 17/21 (é€Ÿåº¦: 0.03/ç§’)
[2025-10-07 17:59:39] ğŸ” Session status: {'status': 'processing', 'message': 'ASRå¤„ç†ä¸­: 18/21 (é€Ÿåº¦: 0.04/ç§’)', 'current_step': 'Transcribing Audio', 'progress_current': 18, 'progress_total': 21, 'progress_percentage': 85.71428571428571, 'processing_speed': '0.04 æ–‡ä»¶/ç§’', 'eta': '84ç§’', 'resource_usage': {'cpu': '62%', 'memory': '28%'}, 'timestamp': 1759831179.4236426}
[2025-10-07 17:59:39] ğŸ“Š Progress: Transcribing Audio - ASRå¤„ç†ä¸­: 18/21 (é€Ÿåº¦: 0.04/ç§’)
[2025-10-07 17:59:41] ğŸ” Session status: {'status': 'processing', 'message': 'ASRå¤„ç†ä¸­: 19/21 (é€Ÿåº¦: 0.04/ç§’)', 'current_step': 'Transcribing Audio', 'progress_current': 19, 'progress_total': 21, 'progress_percentage': 90.47619047619048, 'processing_speed': '0.04 æ–‡ä»¶/ç§’', 'eta': '53ç§’', 'resource_usage': {'cpu': '33%', 'memory': '28%'}, 'timestamp': 1759831181.8529096}
[2025-10-07 17:59:41] ğŸ“Š Progress: Transcribing Audio - ASRå¤„ç†ä¸­: 19/21 (é€Ÿåº¦: 0.04/ç§’)
[2025-10-07 17:59:45] ğŸ” Session status: {'status': 'processing', 'message': 'ASRå¤„ç†ä¸­: 21/21 (é€Ÿåº¦: 0.04/ç§’)', 'current_step': 'Transcribing Audio', 'progress_current': 21, 'progress_total': 21, 'progress_percentage': 100.0, 'processing_speed': '0.04 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '28%'}, 'timestamp': 1759831185.41179}
[2025-10-07 17:59:45] ğŸ“Š Progress: Transcribing Audio - ASRå¤„ç†ä¸­: 21/21 (é€Ÿåº¦: 0.04/ç§’)
[2025-10-07 17:59:45] ğŸ” Session status: {'status': 'processing', 'message': 'Audio transcription completed for video: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE', 'current_step': 'Audio Transcribed', 'timestamp': 1759831185.4257805}
[2025-10-07 17:59:45] ğŸ“Š Progress: Audio Transcribed - Audio transcription completed for video: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE
[2025-10-07 17:59:45] ğŸ” Session status: {'status': 'processing', 'message': 'Processing video segments for: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE', 'current_step': 'Processing Segments', 'timestamp': 1759831185.4262028}
[2025-10-07 17:59:45] ğŸ“Š Progress: Processing Segments - Processing video segments for: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE
[2025-10-07 17:59:58] ğŸ” Session status: {'status': 'processing', 'message': 'å¼€å§‹ç”Ÿæˆå­—å¹•: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE (21 ä¸ªç‰‡æ®µ)', 'current_step': 'Generating Captions', 'timestamp': 1759831198.7669852}
[2025-10-07 17:59:58] ğŸ“Š Progress: Generating Captions - å¼€å§‹ç”Ÿæˆå­—å¹•: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE (21 ä¸ªç‰‡æ®µ)
[2025-10-07 18:05:26] ğŸ” Session status: {'status': 'processing', 'message': 'å­—å¹•ç”Ÿæˆä¸­: 3/21 (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)', 'current_step': 'Generating Captions', 'timestamp': 1759831526.9697087}
[2025-10-07 18:05:26] ğŸ“Š Progress: Generating Captions - å­—å¹•ç”Ÿæˆä¸­: 3/21 (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)
[2025-10-07 18:10:38] ğŸ” Session status: {'status': 'processing', 'message': 'å­—å¹•ç”Ÿæˆä¸­: 6/21 (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)', 'current_step': 'Generating Captions', 'timestamp': 1759831838.5359318}
[2025-10-07 18:10:38] ğŸ“Š Progress: Generating Captions - å­—å¹•ç”Ÿæˆä¸­: 6/21 (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)
[2025-10-07 18:15:51] ğŸ” Session status: {'status': 'processing', 'message': 'å­—å¹•ç”Ÿæˆä¸­: 9/21 (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)', 'current_step': 'Generating Captions', 'timestamp': 1759832151.0363252}
[2025-10-07 18:15:51] ğŸ“Š Progress: Generating Captions - å­—å¹•ç”Ÿæˆä¸­: 9/21 (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)
[2025-10-07 18:20:36] ğŸ” Session status: {'status': 'processing', 'message': 'å­—å¹•ç”Ÿæˆä¸­: 12/21 (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)', 'current_step': 'Generating Captions', 'timestamp': 1759832436.5051847}
[2025-10-07 18:20:36] ğŸ“Š Progress: Generating Captions - å­—å¹•ç”Ÿæˆä¸­: 12/21 (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)
[2025-10-07 18:25:26] ğŸ” Session status: {'status': 'processing', 'message': 'å­—å¹•ç”Ÿæˆä¸­: 15/21 (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)', 'current_step': 'Generating Captions', 'timestamp': 1759832726.3491232}
[2025-10-07 18:25:26] ğŸ“Š Progress: Generating Captions - å­—å¹•ç”Ÿæˆä¸­: 15/21 (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)
[2025-10-07 18:30:11] ğŸ” Session status: {'status': 'processing', 'message': 'å­—å¹•ç”Ÿæˆä¸­: 18/21 (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)', 'current_step': 'Generating Captions', 'timestamp': 1759833011.1140685}
[2025-10-07 18:30:11] ğŸ“Š Progress: Generating Captions - å­—å¹•ç”Ÿæˆä¸­: 18/21 (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)
[2025-10-07 18:34:18] ğŸ” Session status: {'status': 'processing', 'message': 'å­—å¹•ç”Ÿæˆä¸­: 21/21 (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)', 'current_step': 'Generating Captions', 'timestamp': 1759833258.3390357}
[2025-10-07 18:34:18] ğŸ“Š Progress: Generating Captions - å­—å¹•ç”Ÿæˆä¸­: 21/21 (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)
[2025-10-07 18:34:18] ğŸ” Session status: {'status': 'processing', 'message': 'å­—å¹•ç”Ÿæˆå®Œæˆ: 21/21 æˆåŠŸ, è€—æ—¶ 2064.15s (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)', 'current_step': 'Captions Generated', 'timestamp': 1759833258.6578653}
[2025-10-07 18:34:18] ğŸ“Š Progress: Captions Generated - å­—å¹•ç”Ÿæˆå®Œæˆ: 21/21 æˆåŠŸ, è€—æ—¶ 2064.15s (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)
[2025-10-07 18:35:28] ğŸ” Session status: {'status': 'processing', 'message': 'Video segments processed and captions generated for: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE', 'current_step': 'Segments Processed', 'timestamp': 1759833328.078846}
[2025-10-07 18:35:28] ğŸ“Š Progress: Segments Processed - Video segments processed and captions generated for: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE
[2025-10-07 18:35:29] ğŸ” Session status: {'status': 'processing', 'message': 'Encoding video features for: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE', 'current_step': 'Encoding Features', 'timestamp': 1759833329.0809488}
[2025-10-07 18:35:29] ğŸ“Š Progress: Encoding Features - Encoding video features for: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE
[2025-10-07 18:43:59] ğŸ” Session status: {'status': 'processing', 'message': 'Video features encoded for: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE', 'current_step': 'Features Encoded', 'timestamp': 1759833839.2941813}
[2025-10-07 18:43:59] ğŸ“Š Progress: Features Encoded - Video features encoded for: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE
[2025-10-07 18:43:59] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE', 'current_step': 'One Video Completed', 'timestamp': 1759833839.3060791}
[2025-10-07 18:43:59] ğŸ“Š Progress: One Video Completed - Video processing completed: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE
[2025-10-07 18:43:59] âœ… Video completed: 3 More Ways To ACTUALLY Build Beautiful Websites with Cursor IDE.webm
[2025-10-07 18:44:00] ğŸ” Session status: {'status': 'error', 'message': "Video indexing failed: 'global_config'", 'current_step': 'Error'}
[2025-10-07 18:44:00] âŒ Process-based video indexing failed: 'global_config'
[2025-10-07 19:28:27] ğŸ” Session status: {'status': 'error', 'message': "Video indexing failed: 'global_config'", 'current_step': 'Error', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759833839.3060791, 'progress_current': 21, 'progress_total': 21, 'progress_percentage': 100.0, 'processing_speed': '0.04 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '28%'}}
[2025-10-07 19:30:22] ğŸ” Scanning video files in: /data/é¡¹ç›®/videoagent/storage
[2025-10-07 19:30:41] ğŸ”” Received signal 15, initiating shutdown...
[2025-10-07 19:30:41] ğŸ”” VideoRAG API server is shutting down...
[2025-10-07 19:30:41] ğŸ§¹ Starting process cleanup...
[2025-10-07 19:30:43] ğŸ§¹ Process manager cleanup completed
[2025-10-07 19:30:43] âš ï¸ ImageBind not loaded, nothing to release
[2025-10-07 19:30:43] ğŸ§¹ ImageBind manager cleaned up
[2025-10-07 19:30:43] âœ… Cleanup completed
tail: /data/é¡¹ç›®/videoagent/backend/log.txt: æ–‡ä»¶å·²æˆªæ–­
[2025-10-07 19:31:01] ğŸš€ Starting VideoRAG Web API on port 64451
[2025-10-07 19:31:01] ğŸ“ Main process PID: 935530
[2025-10-07 19:31:04] ğŸ”„ Returning default configuration from environment variables
[2025-10-07 19:31:07] âœ… åŒæ­¥é…ç½® image_bind_model_path -> IMAGEBIND_MODEL_PATH = /data/é¡¹ç›®/videoagent/models
[2025-10-07 19:31:07] âœ… åŒæ­¥é…ç½® asr_model -> ASR_MODEL = paraformer-v2
[2025-10-07 19:31:07] âœ… é…ç½®åŒæ­¥åˆ°ç¯å¢ƒå˜é‡å®Œæˆ
[2025-10-07 19:31:07] ğŸ”„ Global config set: {'openai_api_key': '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', 'openai_base_url': 'https://openrouter.ai/api/v1/', 'ali_dashscope_api_key': 'sk-3236ebaa10bc477987e3264e8a8b7d0f', 'ali_dashscope_base_url': 'https://dashscope.aliyuncs.com/compatible-mode/v1', 'analysisModel': 'x-ai/grok-code-fast-1', 'processingModel': 'x-ai/grok-code-fast-1', 'caption_model': 'qwen-vl-plus', 'asr_model': 'paraformer-v2', 'image_bind_model_path': '/data/é¡¹ç›®/videoagent/models', 'base_storage_path': '/data/é¡¹ç›®/videoagent/storage'}
[2025-10-07 19:31:07] âœ… ImageBind manager configured with model path: /data/é¡¹ç›®/videoagent/models
[2025-10-07 19:31:12] ğŸ” Scanning video files in: /data/é¡¹ç›®/videoagent/storage
[2025-10-07 19:31:14] ğŸ“¹ Starting video processing from web upload: 1 files
[2025-10-07 19:31:16] ğŸ” Session status: {'status': 'processing', 'message': 'Initializing AI Assistant...', 'current_step': 'Initializing', 'total_videos': 1, 'processed_videos': 0}
[2025-10-07 19:31:19] ğŸ” Session status: {'status': 'processing', 'message': 'Initializing AI Assistant...', 'current_step': 'Initializing', 'total_videos': 1, 'processed_videos': 0}
[2025-10-07 19:31:19] ğŸ”§ Index worker process 937099 set name to: videorag-index-8wxp8zjg29fvdghctt0csk
[2025-10-07 19:31:19] ğŸ” Session status: {'status': 'processing', 'message': 'Initializing AI Assistant...', 'current_step': 'Initializing'}
[2025-10-07 19:31:19] ğŸ¤ ASRé…ç½®: æ¨¡å¼=local, æ¨¡å‹=paraformer-v2
[2025-10-07 19:31:19] ğŸ”— åµŒå…¥é…ç½®: URL=https://dashscope.aliyuncs.com/compatible-mode/v1, æ¨¡å‹=text-embedding-v4, ç»´åº¦=1024
[2025-10-07 19:31:21] ğŸ” Session status: {'status': 'processing', 'message': 'Initializing AI Assistant...', 'current_step': 'Initializing', 'total_videos': 1, 'processed_videos': 0}
[2025-10-07 19:31:23] ğŸ” Session status: {'status': 'processing', 'message': 'Initializing AI Assistant...', 'current_step': 'Initializing', 'total_videos': 1, 'processed_videos': 0}
[2025-10-07 19:31:23] ğŸ” Session status: {'status': 'processing', 'message': 'Processing video: 1759707563218-0-0-30', 'current_step': 'Starting Video', 'timestamp': 1759836683.389957}
[2025-10-07 19:31:23] ğŸ“Š Progress: Starting Video - Processing video: 1759707563218-0-0-30
[2025-10-07 19:31:23] ğŸ” Session status: {'status': 'processing', 'message': 'Splitting video: 1759707563218-0-0-30 into segments', 'current_step': 'Splitting Video', 'timestamp': 1759836683.3908432}
[2025-10-07 19:31:23] ğŸ“Š Progress: Splitting Video - Splitting video: 1759707563218-0-0-30 into segments
[2025-10-07 19:31:24] ğŸ” Session status: {'status': 'processing', 'message': 'Video 1759707563218-0-0-30 split into 1 segments', 'current_step': 'Video Split', 'timestamp': 1759836684.6241472}
[2025-10-07 19:31:24] ğŸ“Š Progress: Video Split - Video 1759707563218-0-0-30 split into 1 segments
[2025-10-07 19:31:24] ğŸ” Session status: {'status': 'processing', 'message': 'Transcribing audio for video: 1759707563218-0-0-30', 'current_step': 'Transcribing Audio', 'timestamp': 1759836684.6246815}
[2025-10-07 19:31:24] ğŸ“Š Progress: Transcribing Audio - Transcribing audio for video: 1759707563218-0-0-30
[2025-10-07 19:31:25] ğŸ” Session status: {'status': 'processing', 'message': 'Transcribing audio for video: 1759707563218-0-0-30', 'current_step': 'Transcribing Audio', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759836684.6246815}
[2025-10-07 19:31:27] ğŸ” Session status: {'status': 'processing', 'message': 'Transcribing audio for video: 1759707563218-0-0-30', 'current_step': 'Transcribing Audio', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759836684.6246815}
[2025-10-07 19:31:29] ğŸ” Session status: {'status': 'processing', 'message': 'Transcribing audio for video: 1759707563218-0-0-30', 'current_step': 'Transcribing Audio', 'total_videos': 1, 'processed_videos': 0, 'timestamp': 1759836684.6246815}
[2025-10-07 19:32:06] ğŸ” Session status: {'status': 'processing', 'message': 'ASRå¤„ç†ä¸­: 1/1 (é€Ÿåº¦: 0.02/ç§’)', 'current_step': 'Transcribing Audio', 'progress_current': 1, 'progress_total': 1, 'progress_percentage': 100.0, 'processing_speed': '0.02 æ–‡ä»¶/ç§’', 'eta': '', 'resource_usage': {'cpu': '0%', 'memory': '30%'}, 'timestamp': 1759836726.238021}
[2025-10-07 19:32:06] ğŸ“Š Progress: Transcribing Audio - ASRå¤„ç†ä¸­: 1/1 (é€Ÿåº¦: 0.02/ç§’)
[2025-10-07 19:32:06] ğŸ” Session status: {'status': 'processing', 'message': 'Audio transcription completed for video: 1759707563218-0-0-30', 'current_step': 'Audio Transcribed', 'timestamp': 1759836726.241148}
[2025-10-07 19:32:06] ğŸ“Š Progress: Audio Transcribed - Audio transcription completed for video: 1759707563218-0-0-30
[2025-10-07 19:32:06] ğŸ” Session status: {'status': 'processing', 'message': 'Processing video segments for: 1759707563218-0-0-30', 'current_step': 'Processing Segments', 'timestamp': 1759836726.241588}
[2025-10-07 19:32:06] ğŸ“Š Progress: Processing Segments - Processing video segments for: 1759707563218-0-0-30
[2025-10-07 19:32:19] ğŸ” Session status: {'status': 'processing', 'message': 'å¼€å§‹ç”Ÿæˆå­—å¹•: 1759707563218-0-0-30 (1 ä¸ªç‰‡æ®µ)', 'current_step': 'Generating Captions', 'timestamp': 1759836739.5410075}
[2025-10-07 19:32:19] ğŸ“Š Progress: Generating Captions - å¼€å§‹ç”Ÿæˆå­—å¹•: 1759707563218-0-0-30 (1 ä¸ªç‰‡æ®µ)
[2025-10-07 19:32:20] ğŸ” Scanning video files in: /data/é¡¹ç›®/videoagent/storage
[2025-10-07 19:34:27] ğŸ” Session status: {'status': 'processing', 'message': 'å­—å¹•ç”Ÿæˆå®Œæˆ: 1/1 æˆåŠŸ, è€—æ—¶ 132.22s (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)', 'current_step': 'Captions Generated', 'timestamp': 1759836867.4301834}
[2025-10-07 19:34:27] ğŸ“Š Progress: Captions Generated - å­—å¹•ç”Ÿæˆå®Œæˆ: 1/1 æˆåŠŸ, è€—æ—¶ 132.22s (é€Ÿåº¦: 0.01 ç‰‡æ®µ/ç§’)
[2025-10-07 19:34:29] ğŸ” Session status: {'status': 'processing', 'message': 'Video segments processed and captions generated for: 1759707563218-0-0-30', 'current_step': 'Segments Processed', 'timestamp': 1759836869.1373477}
[2025-10-07 19:34:29] ğŸ“Š Progress: Segments Processed - Video segments processed and captions generated for: 1759707563218-0-0-30
[2025-10-07 19:34:30] ğŸ” Session status: {'status': 'processing', 'message': 'Encoding video features for: 1759707563218-0-0-30', 'current_step': 'Encoding Features', 'timestamp': 1759836870.0933805}
[2025-10-07 19:34:30] ğŸ“Š Progress: Encoding Features - Encoding video features for: 1759707563218-0-0-30
[2025-10-07 19:35:12] ğŸ” Session status: {'status': 'processing', 'message': 'Video features encoded for: 1759707563218-0-0-30', 'current_step': 'Features Encoded', 'timestamp': 1759836912.2699788}
[2025-10-07 19:35:12] ğŸ“Š Progress: Features Encoded - Video features encoded for: 1759707563218-0-0-30
[2025-10-07 19:35:12] ğŸ” Session status: {'status': 'processing', 'message': 'Video processing completed: 1759707563218-0-0-30', 'current_step': 'One Video Completed', 'timestamp': 1759836912.2757583}
[2025-10-07 19:35:12] ğŸ“Š Progress: One Video Completed - Video processing completed: 1759707563218-0-0-30
[2025-10-07 19:35:12] âœ… Video completed: 1759707563218-0-0-30.mp4
[2025-10-07 19:35:13] ğŸ” Session status: {'status': 'error', 'message': "Video indexing failed: 'global_config'", 'current_step': 'Error'}
[2025-10-07 19:35:13] âŒ Process-based video indexing failed: 'global_config'
[2025-10-07 19:35:54] ğŸ”” Received signal 2, initiating shutdown...
[2025-10-07 19:35:54] ğŸ”” Received signal 15, initiating shutdown...
[2025-10-07 19:35:54] ğŸ”” VideoRAG API server is shutting down...
[2025-10-07 19:35:54] ğŸ§¹ Starting process cleanup...
[2025-10-07 19:35:56] ğŸ§¹ Process manager cleanup completed
[2025-10-07 19:35:56] âš ï¸ ImageBind not loaded, nothing to release
[2025-10-07 19:35:56] ğŸ§¹ ImageBind manager cleaned up
[2025-10-07 19:35:56] âœ… Cleanup completed
[2025-10-07 19:40:58] ğŸ” å¼€å§‹éªŒè¯global_configé…ç½®...
[2025-10-07 19:40:58] âš ï¸ å‘ç°ç¼ºå¤±é…ç½®å­—æ®µï¼Œå·²è®¾ç½®é»˜è®¤å€¼: ['caption_model', 'tiktoken_model_name', 'entity_extract_max_gleaning', 'entity_summary_to_max_tokens', 'max_graph_cluster_size', 'graph_cluster_seed', 'retrieval_topk_chunks', 'fine_num_frames_per_segment', 'video_embedding_batch_num', 'video_embedding_dim']
[2025-10-07 19:40:58] âš ï¸ LLMé…ç½®ç¼ºå¤±ï¼Œåˆ›å»ºç©ºçš„LLMé…ç½®
[2025-10-07 19:40:58] âš ï¸ å‘ç°ç¼ºå¤±çš„LLMé…ç½®å­—æ®µ: ['best_model_func', 'cheap_model_func', 'embedding_func', 'best_model_name', 'cheap_model_name', 'embedding_model_name', 'embedding_dim', 'best_model_max_token_size', 'cheap_model_max_token_size', 'embedding_batch_num']
[2025-10-07 19:40:58] âš ï¸ addon_paramsé…ç½®ç¼ºå¤±ï¼Œåˆ›å»ºç©ºé…ç½®
[2025-10-07 19:40:58] âœ… global_configé…ç½®éªŒè¯å®Œæˆ
[2025-10-07 19:43:39] ğŸ” å¼€å§‹éªŒè¯global_configé…ç½®...
[2025-10-07 19:43:39] âš ï¸ å‘ç°ç¼ºå¤±é…ç½®å­—æ®µï¼Œå·²è®¾ç½®é»˜è®¤å€¼: ['processingModel', 'caption_model', 'tiktoken_model_name', 'entity_extract_max_gleaning', 'entity_summary_to_max_tokens', 'max_graph_cluster_size', 'graph_cluster_seed', 'retrieval_topk_chunks', 'fine_num_frames_per_segment', 'video_embedding_batch_num', 'video_embedding_dim']
[2025-10-07 19:43:39] âš ï¸ LLMé…ç½®ç¼ºå¤±ï¼Œåˆ›å»ºç©ºçš„LLMé…ç½®
[2025-10-07 19:43:39] âš ï¸ å‘ç°ç¼ºå¤±çš„LLMé…ç½®å­—æ®µ: ['best_model_func', 'cheap_model_func', 'embedding_func', 'best_model_name', 'cheap_model_name', 'embedding_model_name', 'embedding_dim', 'best_model_max_token_size', 'cheap_model_max_token_size', 'embedding_batch_num']
[2025-10-07 19:43:39] âš ï¸ addon_paramsé…ç½®ç¼ºå¤±ï¼Œåˆ›å»ºç©ºé…ç½®
[2025-10-07 19:43:39] âœ… global_configé…ç½®éªŒè¯å®Œæˆ
tail: /data/é¡¹ç›®/videoagent/backend/log.txt: æ–‡ä»¶å·²æˆªæ–­
